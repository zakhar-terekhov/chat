# Описание
Реализация, в основу которой заложена концепция манипуляций с чатом через два сокета:
- Сокет, читающий чат, но не позволяющий отправлять в него сообщения. Доступен по адресу `minechat.dvmn.org:5000`. 
Все сообщения, отображающеся в консоли, сохраняются в файле, заданном в переменной окружения `HISTORY`.

- Сокет, позволяющий отправлять в чат сообщения. Доступен по адресу `minechat.dvmn.org:5050`. Предварительно необходимо зарегистрироваться на сервере, а затем авторизоваться под полученным токеном.

Проект написан на языке Python.

# Python
Используется версия `python==3.13.3`

# Предварительно перед запуском проекта

Перед запуском проекта понадобится установить тулзу `uv` в вашу операционную систему:

#### для Windows

```bash
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
```
#### для macOS и Linux

```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
```
#### Установите python v.3.13.3

```bash
uv python install 3.13.3
```

## Установите переменные окружения
Пример использования переменных окружения приведен в файле `.env.example`

# Скрпты для запуска

## chat.py

Отображение чата.

Запустите скрипт с дефолтными аргументами, заданными в файле `.env` на основе примера в файле `.env.example`:

```bash
uv run chat.py
```

В консоли отобразится чат с перепиской выдуманных персонажей.


## registration.py

Регистрация пользователя на сервере для получения токена.

Запустите скрипт с дефолтными аргументами, заданными в файле `.env` на основе примера в файле `.env.example`:


```bash
uv run registration.py
```

Запуск скрипта с передачей аргумента имени пользователя:

```bash
uv run registration.py -U <USERNAME>
```

После запуска скрипт выдаст сообщение об успешной регистрации и токен для последующей авторизации пользователя.

## authorization.py

Авторизация пользователя на сервере.

Задайте переменную окружения `TOKEN`, полученную при регистрации.

Запустите скрипт:

```bash
uv run authorization.py
```

Или передайте токен в качестве аргумента:

```bash
uv run authorization.py -T <TOKEN>
```

Если введенный токен валиден, то сервер предложит вам отправить текстовое сообщение в чат, который отобразится в основной переписке чата, запущенной ранее скриптом `chat.py`

Если токен не валиден, то программа сообщит об ошибке и закроет соединение.

# Результаты
![](https://github.com/zakhar-terekhov/Images/blob/main/chat.png?raw=true)
